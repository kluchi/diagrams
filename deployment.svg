<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="585px" preserveAspectRatio="none" style="width:697px;height:585px;" version="1.1" viewBox="0 0 697 585" width="697px" zoomAndPan="magnify"><defs><filter height="300%" id="f1bzlnf84rkx0p" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[979da56a7f83e2393dc758167ae295d0]
cluster Server--><polygon fill="#FFFFFF" filter="url(#f1bzlnf84rkx0p)" points="22,185,32,175,675,175,675,563,665,573,22,573,22,185" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="665" x2="674" y1="185" y2="176"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="665" y1="185" y2="185"/><line style="stroke: #000000; stroke-width: 1.5;" x1="665" x2="665" y1="185" y2="573"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="318" y="200.9951">Server</text><!--MD5=[2b81a4f0dde58f64175bd85480babfd4]
cluster docker-compose--><rect fill="#FFFFFF" filter="url(#f1bzlnf84rkx0p)" height="326" style="stroke: #000000; stroke-width: 1.5;" width="605" x="46" y="223"/><path d="M189,224 L189,232.2969 L179,242.2969 L46,242.2969 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="133" x="49" y="236.9951">docker-compose</text><!--MD5=[23cbaadc18b1780d966e07254adaec4d]
cluster frontend--><rect fill="#FFFFFF" filter="url(#f1bzlnf84rkx0p)" height="107" style="stroke: #000000; stroke-width: 1.5;" width="275" x="352" y="269.5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="69" x="455" y="284.4951">frontend</text><!--MD5=[47c14c564e796a575e671c2b0469a7bb]
cluster backend--><rect fill="#FFFFFF" filter="url(#f1bzlnf84rkx0p)" height="114" style="stroke: #000000; stroke-width: 1.5;" width="146" x="182" y="266"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="67" x="221.5" y="280.9951">backend</text><!--MD5=[db65ce44d5e360fb4ec835f941dc7573]
cluster database--><rect fill="#FFFFFF" filter="url(#f1bzlnf84rkx0p)" height="96" style="stroke: #000000; stroke-width: 1.5;" width="114" x="173" y="429"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="194" y="443.9951">database</text><!--MD5=[7c71e0bc9db3ca8e8d7a64e674349866]
cluster blob--><rect fill="#FFFFFF" filter="url(#f1bzlnf84rkx0p)" height="96" style="stroke: #000000; stroke-width: 1.5;" width="116" x="349" y="429"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="100" x="357" y="443.9951">blob storage</text><!--MD5=[c5ac628b8e179f85e5d373742cf39dfd]
cluster andoid--><polygon fill="#FFFFFF" filter="url(#f1bzlnf84rkx0p)" points="252,34,262,24,390,24,390,116,380,126,252,126,252,34" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="380" x2="389" y1="34" y2="25"/><line style="stroke: #000000; stroke-width: 1.5;" x1="252" x2="380" y1="34" y2="34"/><line style="stroke: #000000; stroke-width: 1.5;" x1="380" x2="380" y1="34" y2="126"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62" x="286" y="49.9951">Android</text><!--MD5=[6c47afc467d900221e3d910201e783b5]
cluster ios--><polygon fill="#FFFFFF" filter="url(#f1bzlnf84rkx0p)" points="414,34,424,24,524,24,524,116,514,126,414,126,414,34" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="514" x2="523" y1="34" y2="25"/><line style="stroke: #000000; stroke-width: 1.5;" x1="414" x2="514" y1="34" y2="34"/><line style="stroke: #000000; stroke-width: 1.5;" x1="514" x2="514" y1="34" y2="126"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="26" x="452" y="49.9951">IOS</text><!--MD5=[8824c66cba45be527cf3dd56bcd70cd2]
entity nginx--><rect fill="#FFFFFF" filter="url(#f1bzlnf84rkx0p)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="368.5" y="309.5"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="425.5" y="314.5"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="423.5" y="316.5"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="423.5" y="320.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="383.5" y="342.4951">nginx</text><!--MD5=[919189777b3f5bf61b4ba1d663898d51]
entity static--><polygon fill="#FFFFFF" filter="url(#f1bzlnf84rkx0p)" points="543.5,304.5,589.5,304.5,596.5,325.5,610.5,325.5,610.5,360.0938,543.5,360.0938,543.5,304.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="543.5" x2="596.5" y1="325.5" y2="325.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="553.5" y="345.4951">static</text><!--MD5=[0aacab4354088264634b57b319ebdd40]
entity api_server--><rect fill="#FEFECE" filter="url(#f1bzlnf84rkx0p)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="198" y="301"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="292" y="306"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="290" y="308"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="290" y="312"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="213" y="333.9951">fastapi</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="213" y="350.292">application</text><!--MD5=[799e9543975076390d2a6ceafec8df6c]
entity queue--><path d="M93.5,473.5 L148.5,473.5 C153.5,473.5 153.5,486.6484 153.5,486.6484 C153.5,486.6484 153.5,499.7969 148.5,499.7969 L93.5,499.7969 C88.5,499.7969 88.5,486.6484 88.5,486.6484 C88.5,486.6484 88.5,473.5 93.5,473.5 " fill="#FFFFFF" filter="url(#f1bzlnf84rkx0p)" style="stroke: #A80036; stroke-width: 1.5;"/><path d="M148.5,473.5 C143.5,473.5 143.5,486.6484 143.5,486.6484 C143.5,499.7969 148.5,499.7969 148.5,499.7969 " fill="none" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="93.5" y="491.4951">queue</text><!--MD5=[9fa03314552ee6652c4d1a3f581279f5]
entity notifications--><rect fill="#FFFFFF" filter="url(#f1bzlnf84rkx0p)" height="36.2969" style="stroke: #000000; stroke-width: 1.5;" width="103" x="62.5" y="314.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="72.5" y="337.4951">notifications</text><!--MD5=[0e1fecc31e3549f2a1667c6349b56d9e]
entity postgres--><path d="M189,474 C189,464 230,464 230,464 C230,464 271,464 271,474 L271,499.2969 C271,509.2969 230,509.2969 230,509.2969 C230,509.2969 189,509.2969 189,499.2969 L189,474 " fill="#FEFECE" filter="url(#f1bzlnf84rkx0p)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M189,474 C189,484 230,484 230,484 C230,484 271,484 271,474 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="199" y="500.9951">postgres</text><!--MD5=[dd69d516781b0f0936e849bb07507e10]
entity minio--><path d="M378.5,474 C378.5,464 407,464 407,464 C407,464 435.5,464 435.5,474 L435.5,499.2969 C435.5,509.2969 407,509.2969 407,509.2969 C407,509.2969 378.5,509.2969 378.5,499.2969 L378.5,474 " fill="#FEFECE" filter="url(#f1bzlnf84rkx0p)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M378.5,474 C378.5,484 407,484 407,484 C407,484 435.5,484 435.5,474 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="388.5" y="500.9951">minio</text><!--MD5=[93504fff7c908e0a89da66548cc69c2f]
entity Chrome--><rect fill="#FFFFFF" filter="url(#f1bzlnf84rkx0p)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="278.5" y="64"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="353.5" y="69"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="351.5" y="71"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="351.5" y="75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="293.5" y="96.9951">Chrome</text><!--MD5=[1188d3c89c7ba537cafd8ddf81bc6d2c]
entity Safari--><rect fill="#FFFFFF" filter="url(#f1bzlnf84rkx0p)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="430.5" y="64"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="487.5" y="69"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="485.5" y="71"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="485.5" y="75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="445.5" y="96.9951">Safari</text><!--MD5=[377efb31cdf8aa497544ac79d42359cc]
reverse link api_server to nginx--><path d="M317.33,332.5 C334.52,332.5 352.67,332.5 368.11,332.5 " fill="none" id="api_server&lt;-nginx" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="312.03,332.5,321.03,336.5,317.03,332.5,321.03,328.5,312.03,332.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="23" x="328.75" y="325.5669">/api</text><!--MD5=[f670a34c32e7be79379a1ff51eef2d64]
link nginx to static--><path d="M445.58,332.5 C473.33,332.5 510.62,332.5 538.39,332.5 " fill="none" id="nginx-&gt;static" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="543.46,332.5,534.46,328.5,538.46,332.5,534.46,336.5,543.46,332.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="459" y="325.5669">/index.html</text><!--MD5=[c8f93aa832faf25cde760e9f4e6b1c4b]
link nginx to minio--><path d="M407,355.6 C407,382.89 407,429.27 407,458.59 " fill="none" id="nginx-&gt;minio" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="407,463.86,411,454.86,407,458.86,403,454.86,407,463.86" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="408" y="409.0669">/media</text><!--MD5=[fd3ec316562a93563f70704ceab3d05b]
link api_server to postgres--><path d="M249.94,364.26 C245.39,391.91 238.78,432.12 234.43,458.54 " fill="none" id="api_server-&gt;postgres" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="233.6,463.63,239.0097,455.3999,234.4127,458.6965,231.1161,454.0995,233.6,463.63" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[099d97e24f55ff0a1c5f573fa79255d7]
link api_server to queue--><path d="M223.46,367.99 C201.08,392.47 175,421 175,421 C175,421 150.63,450.11 134.63,469.22 " fill="none" id="api_server-queue" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="131.16,473.37,140.0025,469.0329,134.3679,469.5347,133.8661,463.9002,131.16,473.37" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="227.02,364.1,218.0016,368.0584,223.6524,367.7958,223.9149,373.4466,227.02,364.1" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[ed1cc2faf5ee3b64b8cf2ae467178d10]
link notifications to queue--><path d="M115.04,356.03 C116.45,386.64 118.94,440.7 120.21,468.27 " fill="none" id="notifications-queue" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="120.44,473.42,124.0236,464.2463,120.211,468.4252,116.032,464.6126,120.44,473.42" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="114.79,350.64,111.2052,359.8133,115.0183,355.6348,119.1968,359.4479,114.79,350.64" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[fced2e3bff794e6e2ed77fc5e4030518]
link notifications to postgres--><path d="M128.03,350.79 C148.72,376.29 185,421 185,421 C185,421 199.2,441.36 211.65,459.2 " fill="none" id="notifications-&gt;postgres" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="214.77,463.66,212.9061,453.9891,211.9113,459.5578,206.3426,458.563,214.77,463.66" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[8f0b5ff0042518c891105340f0da15fe]
link Safari to nginx--><path d="M463.39,110.04 C452.03,154.66 426.34,255.56 413.94,304.23 " fill="none" id="Safari-&gt;nginx" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="412.64,309.34,418.7303,301.5999,413.8695,304.4935,410.9759,299.6327,412.64,309.34" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="33" x="455" y="155.0669">https</text><!--MD5=[e7ae56db9822fffe73c49d75ee50445a]
link Chrome to nginx--><path d="M333.33,110.04 C348.2,154.75 381.87,255.96 398.03,304.52 " fill="none" id="Chrome-&gt;nginx" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="399.63,309.34,400.5964,299.5387,398.0574,304.5937,393.0024,302.0548,399.63,309.34" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="33" x="348" y="155.0669">https</text><!--MD5=[e84f8818ce6120ad8983095245a1f7ce]
@startuml deployment


skinparam linetype polyline

skinparam nodesep 25
skinparam ranksep 20

node Server {
    frame "docker-compose" {
        rectangle frontend {
            component nginx {

            }
            folder static {

            }
        }

        rectangle backend {
            component api_server [fastapi 
            application]
        }

        queue queue {

        }

        rectangle notifications {

        }

        rectangle database {
            database postgres
        }

        rectangle "blob storage" as blob {
            database minio
        }
    }
}



node Android as andoid {
    component Chrome {

    }
}

node IOS as ios {
    component Safari {

    }
}




nginx -l-> api_server : /api
nginx -r-> static : /index.html

nginx -d-> minio : /media


api_server - -> postgres
api_server <- -> queue

notifications <- -> queue
notifications - -> postgres

Safari - -> nginx : https

Chrome - -> nginx : https

@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.9+11-Ubuntu-0ubuntu1
Operating System: Linux
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>