<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="725px" preserveAspectRatio="none" style="width:568px;height:725px;" version="1.1" viewBox="0 0 568 725" width="568px" zoomAndPan="magnify"><defs><filter height="300%" id="fvmo4tufodjow" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[979da56a7f83e2393dc758167ae295d0]
cluster Server--><polygon fill="#FFFFFF" filter="url(#fvmo4tufodjow)" points="22,185,32,175,546,175,546,703,536,713,22,713,22,185" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="536" x2="545" y1="185" y2="176"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="536" y1="185" y2="185"/><line style="stroke: #000000; stroke-width: 1.5;" x1="536" x2="536" y1="185" y2="713"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="253.5" y="200.9951">Server</text><!--MD5=[2b81a4f0dde58f64175bd85480babfd4]
cluster docker-compose--><rect fill="#FFFFFF" filter="url(#fvmo4tufodjow)" height="466" style="stroke: #000000; stroke-width: 1.5;" width="476" x="46" y="223"/><path d="M189,224 L189,232.2969 L179,242.2969 L46,242.2969 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="133" x="49" y="236.9951">docker-compose</text><!--MD5=[c6a051c306b57d14ea0179a396d844b0]
cluster root_r--><rect fill="#FFFFFF" filter="url(#fvmo4tufodjow)" height="97" style="stroke: #000000; stroke-width: 1.5;" width="110" x="342" y="271"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="88" x="353" y="285.9951">root router</text><!--MD5=[47c14c564e796a575e671c2b0469a7bb]
cluster backend--><rect fill="#FFFFFF" filter="url(#fvmo4tufodjow)" height="114" style="stroke: #000000; stroke-width: 1.5;" width="146" x="250" y="422"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="67" x="289.5" y="436.9951">backend</text><!--MD5=[23cbaadc18b1780d966e07254adaec4d]
cluster frontend--><rect fill="#FFFFFF" filter="url(#fvmo4tufodjow)" height="107" style="stroke: #000000; stroke-width: 1.5;" width="217" x="101" y="266"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="69" x="175" y="280.9951">frontend</text><!--MD5=[06f5f91432fc6eeeff022c01cc1dd901]
cluster q--><rect fill="#FFFFFF" filter="url(#fvmo4tufodjow)" height="77" style="stroke: #000000; stroke-width: 1.5;" width="114" x="94" y="578.5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="126" y="593.4951">queue</text><!--MD5=[d26a03b031fcc4b23cd12724812f0dfd]
cluster notifications--><rect fill="#FFFFFF" filter="url(#fvmo4tufodjow)" height="114" style="stroke: #000000; stroke-width: 1.5;" width="156" x="70" y="422"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="97" x="99.5" y="436.9951">notifications</text><!--MD5=[db65ce44d5e360fb4ec835f941dc7573]
cluster database--><rect fill="#FFFFFF" filter="url(#fvmo4tufodjow)" height="96" style="stroke: #000000; stroke-width: 1.5;" width="114" x="233" y="569"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="254" y="583.9951">database</text><!--MD5=[7c71e0bc9db3ca8e8d7a64e674349866]
cluster blob--><rect fill="#FFFFFF" filter="url(#fvmo4tufodjow)" height="96" style="stroke: #000000; stroke-width: 1.5;" width="116" x="375" y="569"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="100" x="383" y="583.9951">blob storage</text><!--MD5=[c5ac628b8e179f85e5d373742cf39dfd]
cluster andoid--><polygon fill="#FFFFFF" filter="url(#fvmo4tufodjow)" points="235,34,245,24,373,24,373,116,363,126,235,126,235,34" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="363" x2="372" y1="34" y2="25"/><line style="stroke: #000000; stroke-width: 1.5;" x1="235" x2="363" y1="34" y2="34"/><line style="stroke: #000000; stroke-width: 1.5;" x1="363" x2="363" y1="34" y2="126"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62" x="269" y="49.9951">Android</text><!--MD5=[6c47afc467d900221e3d910201e783b5]
cluster ios--><polygon fill="#FFFFFF" filter="url(#fvmo4tufodjow)" points="397,34,407,24,507,24,507,116,497,126,397,126,397,34" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="497" x2="506" y1="34" y2="25"/><line style="stroke: #000000; stroke-width: 1.5;" x1="397" x2="497" y1="34" y2="34"/><line style="stroke: #000000; stroke-width: 1.5;" x1="497" x2="497" y1="34" y2="126"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="26" x="435" y="49.9951">IOS</text><!--MD5=[eab4eb7d0ef44c19c3b4c8ba4c3c2b5b]
entity root--><rect fill="#FFFFFF" filter="url(#fvmo4tufodjow)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="358.5" y="306"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="415.5" y="311"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="413.5" y="313"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="413.5" y="317"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="373.5" y="338.9951">nginx</text><!--MD5=[0aacab4354088264634b57b319ebdd40]
entity api_server--><rect fill="#FEFECE" filter="url(#fvmo4tufodjow)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="266" y="457"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="360" y="462"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="358" y="464"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="358" y="468"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="281" y="489.9951">fastapi</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="281" y="506.292">application</text><!--MD5=[2e097bb411287f6ed1a33ac9cb2c3661]
entity n2--><rect fill="#FFFFFF" filter="url(#fvmo4tufodjow)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="224.5" y="306"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="281.5" y="311"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="279.5" y="313"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="279.5" y="317"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="239.5" y="338.9951">nginx</text><!--MD5=[919189777b3f5bf61b4ba1d663898d51]
entity static--><polygon fill="#FFFFFF" filter="url(#fvmo4tufodjow)" points="117.5,301,163.5,301,170.5,322,184.5,322,184.5,356.5938,117.5,356.5938,117.5,301" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="117.5" x2="170.5" y1="322" y2="322"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="127.5" y="341.9951">static</text><!--MD5=[799e9543975076390d2a6ceafec8df6c]
entity queue--><path d="M115.5,613.5 L186.5,613.5 C191.5,613.5 191.5,626.6484 191.5,626.6484 C191.5,626.6484 191.5,639.7969 186.5,639.7969 L115.5,639.7969 C110.5,639.7969 110.5,626.6484 110.5,626.6484 C110.5,626.6484 110.5,613.5 115.5,613.5 " fill="#FFFFFF" filter="url(#fvmo4tufodjow)" style="stroke: #A80036; stroke-width: 1.5;"/><path d="M186.5,613.5 C181.5,613.5 181.5,626.6484 181.5,626.6484 C181.5,639.7969 186.5,639.7969 186.5,639.7969 " fill="none" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="115.5" y="631.4951">rabbitmq</text><!--MD5=[5afec40478bd2c44543bda9262cdccd2]
entity ns--><rect fill="#FEFECE" filter="url(#fvmo4tufodjow)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="124" x="86" y="457"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="190" y="462"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="188" y="464"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="188" y="468"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="101" y="489.9951">Notifications</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="101" y="506.292">Service</text><!--MD5=[0e1fecc31e3549f2a1667c6349b56d9e]
entity postgres--><path d="M249,614 C249,604 290,604 290,604 C290,604 331,604 331,614 L331,639.2969 C331,649.2969 290,649.2969 290,649.2969 C290,649.2969 249,649.2969 249,639.2969 L249,614 " fill="#FEFECE" filter="url(#fvmo4tufodjow)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M249,614 C249,624 290,624 290,624 C290,624 331,624 331,614 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="259" y="640.9951">postgres</text><!--MD5=[dd69d516781b0f0936e849bb07507e10]
entity minio--><path d="M404.5,614 C404.5,604 433,604 433,604 C433,604 461.5,604 461.5,614 L461.5,639.2969 C461.5,649.2969 433,649.2969 433,649.2969 C433,649.2969 404.5,649.2969 404.5,639.2969 L404.5,614 " fill="#FEFECE" filter="url(#fvmo4tufodjow)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M404.5,614 C404.5,624 433,624 433,624 C433,624 461.5,624 461.5,614 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="414.5" y="640.9951">minio</text><!--MD5=[93504fff7c908e0a89da66548cc69c2f]
entity Chrome--><rect fill="#FFFFFF" filter="url(#fvmo4tufodjow)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="261.5" y="64"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="336.5" y="69"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="334.5" y="71"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="334.5" y="75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="276.5" y="96.9951">Chrome</text><!--MD5=[1188d3c89c7ba537cafd8ddf81bc6d2c]
entity Safari--><rect fill="#FFFFFF" filter="url(#fvmo4tufodjow)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="413.5" y="64"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="470.5" y="69"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="468.5" y="71"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="468.5" y="75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="428.5" y="96.9951">Safari</text><!--MD5=[3579a8113e39ecaf07eeed7e49e09c90]
link root to api_server--><path d="M386.55,352.23 C374.38,378.15 354.09,421.33 339.71,451.92 " fill="none" id="root-&gt;api_server" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="337.46,456.72,344.9085,450.2764,339.5869,452.1949,337.6684,446.8733,337.46,456.72" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="23" x="369" y="402.0669">/api</text><!--MD5=[d067ee2b66770db86c20d28704a395d3]
link root to n2--><path d="M358.33,329 C342.23,329 323.45,329 306.84,329 " fill="none" id="root-&gt;n2" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="301.76,329,310.76,333,306.76,329,310.76,325,301.76,329" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="328" y="322.0669">/</text><!--MD5=[aadfc60514ee0559d29c58d9bb492257]
link root to minio--><path d="M399.71,352.21 C406.21,405.63 422.72,541.13 429.75,598.83 " fill="none" id="root-&gt;minio" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="430.36,603.83,433.2496,594.4146,429.7592,598.8662,425.3075,595.3759,430.36,603.83" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="423" y="493.0669">/media</text><!--MD5=[fd3ec316562a93563f70704ceab3d05b]
link api_server to postgres--><path d="M315.59,520.02 C309.83,543.76 301.93,576.35 296.43,599 " fill="none" id="api_server-&gt;postgres" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="295.23,603.96,301.2234,596.1447,296.399,599.0986,293.4451,594.2742,295.23,603.96" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[099d97e24f55ff0a1c5f573fa79255d7]
link api_server to queue--><path d="M278.8,523.6 C263.6,535.39 246.51,548.72 231,561 C209.98,577.64 186.07,596.97 169.91,610.1 " fill="none" id="api_server-queue" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="165.98,613.29,175.4874,610.7191,169.8606,610.137,170.4427,604.5102,165.98,613.29" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="283.03,520.32,273.4719,522.6952,279.0855,523.3927,278.3881,529.0064,283.03,520.32" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[3dc34e78816045fd1a3e674d1b7b248d]
link api_server to minio--><path d="M347.69,520.02 C367.13,544.06 393.91,577.18 412.26,599.85 " fill="none" id="api_server-&gt;minio" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="415.58,603.96,413.0302,594.4469,412.4357,600.0724,406.8101,599.4779,415.58,603.96" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[ea25112796f592f80e6550247a25e795]
link ns to queue--><path d="M148.79,525.33 C149.38,552.05 150.16,587.39 150.62,608.16 " fill="none" id="ns-queue" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="150.73,613.36,154.5233,604.2709,150.6157,608.3613,146.5254,604.4538,150.73,613.36" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="148.67,520.02,144.8767,529.1091,148.7843,525.0187,152.8746,528.9262,148.67,520.02" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[f749852489f4cf8aa0beedb0a0992466]
link ns to postgres--><path d="M179.87,520.02 C205.17,544.26 240.12,577.73 263.81,600.42 " fill="none" id="ns-&gt;postgres" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="267.51,603.96,263.7711,594.8484,263.8968,600.5039,258.2413,600.6296,267.51,603.96" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[139c3902ac43e05be6a4d1752caa3bee]
link Safari to root--><path d="M446.92,110.15 C436.81,154.26 414.2,252.96 403.22,300.88 " fill="none" id="Safari-&gt;root" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="402.06,305.91,407.9611,298.0248,403.1718,301.0352,400.1614,296.2459,402.06,305.91" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="33" x="439" y="155.0669">https</text><!--MD5=[94f47bd36df754568f63e04e24b48ca3]
link Chrome to root--><path d="M317.12,110.15 C333.33,154.35 369.63,253.36 387.16,301.17 " fill="none" id="Chrome-&gt;root" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="388.9,305.91,389.5739,296.0842,387.1867,301.2127,382.0582,298.8255,388.9,305.91" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="33" x="336" y="155.0669">https</text><!--MD5=[28540af5f7570b67d2cdf3723773c16e]
@startuml deployment



skinparam nodesep 40
skinparam ranksep 25

node Server {
    frame "docker-compose" {
        rectangle "root router" as root_r {
            component "nginx" as root {

            }
        }

        rectangle backend {
            component api_server [fastapi 
            application]
        }

        rectangle frontend {
            
            component "nginx" as n2 {

            }

            folder static {

            }
        }

        rectangle "queue" as q {
            queue "rabbitmq" as queue {

            }
        }

        

        rectangle notifications {
            component ns [Notifications
            Service]
        }

        rectangle database {
            database postgres
        }

        rectangle "blob storage" as blob {
            database minio
        }
    }
}



node Android as andoid {
    component Chrome {

    }
}

node IOS as ios {
    component Safari {

    }
}




root - -> api_server : /api
root -r-> n2 : /

root -d-> minio : /media


api_server - -> postgres
api_server <- -> queue

api_server - -> minio

ns <- -> queue
ns - -> postgres

Safari - -> root : https

Chrome - -> root : https



@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.9+11-Ubuntu-0ubuntu1
Operating System: Linux
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>