<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="617px" preserveAspectRatio="none" style="width:585px;height:617px;" version="1.1" viewBox="0 0 585 617" width="585px" zoomAndPan="magnify"><defs><filter height="300%" id="f1izjw6kijbzgo" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[979da56a7f83e2393dc758167ae295d0]
cluster Server--><polygon fill="#FFFFFF" filter="url(#f1izjw6kijbzgo)" points="22,185,32,175,563,175,563,595,553,605,22,605,22,185" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="553" x2="562" y1="185" y2="176"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="553" y1="185" y2="185"/><line style="stroke: #000000; stroke-width: 1.5;" x1="553" x2="553" y1="185" y2="605"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="262" y="200.9951">Server</text><!--MD5=[42591781c74864aa6bd8b9830e23a81c]
cluster Docker--><rect fill="#FFFFFF" filter="url(#f1izjw6kijbzgo)" height="358" style="stroke: #000000; stroke-width: 1.5;" width="493" x="46" y="223"/><path d="M112,224 L112,232.2969 L102,242.2969 L46,242.2969 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="56" x="49" y="236.9951">Docker</text><!--MD5=[23cbaadc18b1780d966e07254adaec4d]
cluster frontend--><rect fill="#FFFFFF" filter="url(#f1izjw6kijbzgo)" height="107" style="stroke: #000000; stroke-width: 1.5;" width="275" x="240" y="269.5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="69" x="343" y="284.4951">frontend</text><!--MD5=[47c14c564e796a575e671c2b0469a7bb]
cluster backend--><rect fill="#FFFFFF" filter="url(#f1izjw6kijbzgo)" height="114" style="stroke: #000000; stroke-width: 1.5;" width="146" x="70" y="266"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="67" x="109.5" y="280.9951">backend</text><!--MD5=[db65ce44d5e360fb4ec835f941dc7573]
cluster database--><rect fill="#FFFFFF" filter="url(#f1izjw6kijbzgo)" height="96" style="stroke: #000000; stroke-width: 1.5;" width="114" x="86" y="445"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="107" y="459.9951">database</text><!--MD5=[7c71e0bc9db3ca8e8d7a64e674349866]
cluster blob--><rect fill="#FFFFFF" filter="url(#f1izjw6kijbzgo)" height="112" style="stroke: #000000; stroke-width: 1.5;" width="116" x="287" y="437"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="100" x="295" y="451.9951">blob storage</text><!--MD5=[c5ac628b8e179f85e5d373742cf39dfd]
cluster andoid--><polygon fill="#FFFFFF" filter="url(#f1izjw6kijbzgo)" points="140,34,150,24,278,24,278,116,268,126,140,126,140,34" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="268" x2="277" y1="34" y2="25"/><line style="stroke: #000000; stroke-width: 1.5;" x1="140" x2="268" y1="34" y2="34"/><line style="stroke: #000000; stroke-width: 1.5;" x1="268" x2="268" y1="34" y2="126"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62" x="174" y="49.9951">Android</text><!--MD5=[6c47afc467d900221e3d910201e783b5]
cluster ios--><polygon fill="#FFFFFF" filter="url(#f1izjw6kijbzgo)" points="302,34,312,24,412,24,412,116,402,126,302,126,302,34" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="402" x2="411" y1="34" y2="25"/><line style="stroke: #000000; stroke-width: 1.5;" x1="302" x2="402" y1="34" y2="34"/><line style="stroke: #000000; stroke-width: 1.5;" x1="402" x2="402" y1="34" y2="126"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="26" x="340" y="49.9951">IOS</text><!--MD5=[8824c66cba45be527cf3dd56bcd70cd2]
entity nginx--><rect fill="#FFFFFF" filter="url(#f1izjw6kijbzgo)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="256.5" y="309.5"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="313.5" y="314.5"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="311.5" y="316.5"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="311.5" y="320.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="271.5" y="342.4951">nginx</text><!--MD5=[919189777b3f5bf61b4ba1d663898d51]
entity static--><polygon fill="#FFFFFF" filter="url(#f1izjw6kijbzgo)" points="431.5,304.5,477.5,304.5,484.5,325.5,498.5,325.5,498.5,360.0938,431.5,360.0938,431.5,304.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="431.5" x2="484.5" y1="325.5" y2="325.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="441.5" y="345.4951">static</text><!--MD5=[0aacab4354088264634b57b319ebdd40]
entity api_server--><rect fill="#FEFECE" filter="url(#f1izjw6kijbzgo)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="86" y="301"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="180" y="306"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="178" y="308"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="178" y="312"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="101" y="333.9951">fastapi</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="101" y="350.292">application</text><!--MD5=[0e1fecc31e3549f2a1667c6349b56d9e]
entity postgres--><path d="M102,490 C102,480 143,480 143,480 C143,480 184,480 184,490 L184,515.2969 C184,525.2969 143,525.2969 143,525.2969 C143,525.2969 102,525.2969 102,515.2969 L102,490 " fill="#FEFECE" filter="url(#f1izjw6kijbzgo)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M102,490 C102,500 143,500 143,500 C143,500 184,500 184,490 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="112" y="516.9951">postgres</text><!--MD5=[dd69d516781b0f0936e849bb07507e10]
entity minio--><path d="M320.5,490 C320.5,480 349,480 349,480 C349,480 377.5,480 377.5,490 L377.5,515.2969 C377.5,525.2969 349,525.2969 349,525.2969 C349,525.2969 320.5,525.2969 320.5,515.2969 L320.5,490 " fill="#FEFECE" filter="url(#f1izjw6kijbzgo)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M320.5,490 C320.5,500 349,500 349,500 C349,500 377.5,500 377.5,490 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="330.5" y="516.9951">minio</text><!--MD5=[93504fff7c908e0a89da66548cc69c2f]
entity Chrome--><rect fill="#FFFFFF" filter="url(#f1izjw6kijbzgo)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="166.5" y="64"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="241.5" y="69"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="239.5" y="71"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="239.5" y="75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="181.5" y="96.9951">Chrome</text><!--MD5=[1188d3c89c7ba537cafd8ddf81bc6d2c]
entity Safari--><rect fill="#FFFFFF" filter="url(#f1izjw6kijbzgo)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="318.5" y="64"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="375.5" y="69"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="373.5" y="71"/><rect fill="#FFFFFF" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="373.5" y="75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="333.5" y="96.9951">Safari</text><!--MD5=[377efb31cdf8aa497544ac79d42359cc]
reverse link api_server to nginx--><path d="M205.33,332.5 C222.52,332.5 240.67,332.5 256.11,332.5 " fill="none" id="api_server&lt;-nginx" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="200.03,332.5,209.03,336.5,205.03,332.5,209.03,328.5,200.03,332.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="23" x="216.75" y="325.5669">/api</text><!--MD5=[f670a34c32e7be79379a1ff51eef2d64]
link nginx to static--><path d="M333.58,332.5 C361.33,332.5 398.62,332.5 426.39,332.5 " fill="none" id="nginx-&gt;static" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="431.46,332.5,422.46,328.5,426.46,332.5,422.46,336.5,431.46,332.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="347" y="325.5669">/index.html</text><!--MD5=[fd42b2f8646fb11a9338e301910c3fde]
link nginx to blob--><path d="M295,355.81 C295,367.055 295,381.5887 295,397.1116 C295,404.873 295,412.8816 295,420.8501 C295,424.8344 295,428.8085 295,432.7368 C295,433.7188 295,434.698 295,435.6737 C295,435.9177 295,436.1614 295,436.4049 " fill="none" id="nginx-&gt;blob" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="295,436.4049,299,427.4049,295,431.4049,291,427.4049,295,436.4049" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="296" y="409.0669">/media</text><!--MD5=[fd3ec316562a93563f70704ceab3d05b]
link api_server to postgres--><path d="M143,364.31 C143,396.01 143,444.88 143,474.93 " fill="none" id="api_server-&gt;postgres" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="143,479.95,147,470.95,143,474.95,139,470.95,143,479.95" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[8f0b5ff0042518c891105340f0da15fe]
link Safari to nginx--><path d="M351.39,110.04 C340.03,154.66 314.34,255.56 301.94,304.23 " fill="none" id="Safari-&gt;nginx" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="300.64,309.34,306.7303,301.5999,301.8695,304.4935,298.9759,299.6327,300.64,309.34" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="33" x="343" y="155.0669">https</text><!--MD5=[e7ae56db9822fffe73c49d75ee50445a]
link Chrome to nginx--><path d="M221.33,110.04 C236.2,154.75 269.87,255.96 286.03,304.52 " fill="none" id="Chrome-&gt;nginx" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="287.63,309.34,288.5964,299.5387,286.0574,304.5937,281.0024,302.0548,287.63,309.34" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="33" x="236" y="155.0669">https</text><!--MD5=[a64fc9715327f3d548b96b34f1add901]
@startuml deployment


skinparam linetype polyline

skinparam nodesep 25
skinparam ranksep 20


node Server {
    frame Docker {
        rectangle frontend {
            component nginx {

            }
            folder static {

            }
        }

        rectangle backend {
            component api_server [fastapi 
            application]
        }

        rectangle database {
            database postgres
        }

        rectangle "blob storage" as blob {
            database minio
        }
    }
}



    node Android as andoid {
    component Chrome {

    }
}

node IOS as ios {
    component Safari {

    }
}




nginx -l-> api_server : /api
nginx -r-> static : /index.html

nginx -d-> blob : /media


api_server - -> postgres

Safari - -> nginx : https

Chrome - -> nginx : https

@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.9+11-Ubuntu-0ubuntu1
Operating System: Linux
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>